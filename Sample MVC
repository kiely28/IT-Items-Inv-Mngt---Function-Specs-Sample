Perfect ‚Äî let‚Äôs level up your In Module project using ASP.NET Core MVC + Entity Framework Core + Stored Procedure ‚úÖ

We‚Äôll go step-by-step so you can run it easily in Visual Studio or VS Code.
The project will allow you to add an ‚ÄúIN Transaction‚Äù that saves to a SQL table using a stored procedure executed through EF Core.


---

üß© PROJECT OVERVIEW

üéØ Goal:

A simple Inventory In Module that:

Lets users input an item name and quantity.

Saves the data using a SQL stored procedure.

Uses Entity Framework Core for database access.



---

üß± STEP 1: Create SQL Table + Stored Procedure

In SQL Server Management Studio (SSMS), create a new database (e.g. InventoryDB) and run:

CREATE TABLE tblInTransactions (
    InID INT IDENTITY(1,1) PRIMARY KEY,
    ItemName NVARCHAR(100),
    Quantity INT,
    DateIn DATETIME DEFAULT GETDATE()
);
GO

CREATE PROCEDURE sp_InsertInTransaction
    @ItemName NVARCHAR(100),
    @Quantity INT
AS
BEGIN
    INSERT INTO tblInTransactions (ItemName, Quantity)
    VALUES (@ItemName, @Quantity);
END;
GO


---

‚öôÔ∏è STEP 2: Create ASP.NET Core MVC Project

In your terminal (Git Bash or PowerShell):

dotnet new mvc -n InventoryInModule
cd InventoryInModule

This creates an MVC project.


---

üß© STEP 3: Install Entity Framework Core SQL Server Provider

Run these commands inside the project folder:

dotnet add package Microsoft.EntityFrameworkCore
dotnet add package Microsoft.EntityFrameworkCore.SqlServer
dotnet add package Microsoft.EntityFrameworkCore.Tools


---

‚öôÔ∏è STEP 4: Add Connection String

In appsettings.json:

{
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=InventoryDB;Trusted_Connection=True;TrustServerCertificate=True;"
  },
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*"
}

> üí° Replace YOUR_SERVER with your actual SQL Server name.




---

üß± STEP 5: Create the Model

File: Models/InTransaction.cs

using System;
using System.ComponentModel.DataAnnotations;

namespace InventoryInModule.Models
{
    public class InTransaction
    {
        [Key]
        public int InID { get; set; }

        [Required]
        [StringLength(100)]
        public string ItemName { get; set; }

        [Required]
        public int Quantity { get; set; }

        public DateTime DateIn { get; set; }
    }
}


---

üß± STEP 6: Create the Database Context

File: Data/ApplicationDbContext.cs

using Microsoft.EntityFrameworkCore;
using InventoryInModule.Models;

namespace InventoryInModule.Data
{
    public class ApplicationDbContext : DbContext
    {
        public ApplicationDbContext(DbContextOptions<ApplicationDbContext> options)
            : base(options)
        {
        }

        public DbSet<InTransaction> InTransactions { get; set; }
    }
}


---

üß© STEP 7: Register the Context in Program.cs

File: Program.cs

using InventoryInModule.Data;
using Microsoft.EntityFrameworkCore;

var builder = WebApplication.CreateBuilder(args);

// Add services to the container.
builder.Services.AddControllersWithViews();

// Register EF Core
builder.Services.AddDbContext<ApplicationDbContext>(options =>
    options.UseSqlServer(builder.Configuration.GetConnectionString("DefaultConnection")));

var app = builder.Build();

if (!app.Environment.IsDevelopment())
{
    app.UseExceptionHandler("/Home/Error");
    app.UseHsts();
}

app.UseHttpsRedirection();
app.UseStaticFiles();
app.UseRouting();
app.UseAuthorization();

app.MapControllerRoute(
    name: "default",
    pattern: "{controller=In}/{action=Index}/{id?}");

app.Run();


---

üß© STEP 8: Create Controller

File: Controllers/InController.cs

using Microsoft.AspNetCore.Mvc;
using Microsoft.Data.SqlClient;
using Microsoft.EntityFrameworkCore;
using InventoryInModule.Data;
using InventoryInModule.Models;
using System.Threading.Tasks;

namespace InventoryInModule.Controllers
{
    public class InController : Controller
    {
        private readonly ApplicationDbContext _context;

        public InController(ApplicationDbContext context)
        {
            _context = context;
        }

        public IActionResult Index()
        {
            return View();
        }

        [HttpPost]
        public async Task<IActionResult> Index(InTransaction model)
        {
            if (ModelState.IsValid)
            {
                var itemNameParam = new SqlParameter("@ItemName", model.ItemName);
                var qtyParam = new SqlParameter("@Quantity", model.Quantity);

                await _context.Database.ExecuteSqlRawAsync(
                    "EXEC sp_InsertInTransaction @ItemName, @Quantity",
                    itemNameParam, qtyParam
                );

                ViewBag.Message = "Item successfully added!";
                ModelState.Clear();
            }

            return View();
        }
    }
}


---

üé® STEP 9: Create View

File: Views/In/Index.cshtml

@model InventoryInModule.Models.InTransaction
@{
    ViewData["Title"] = "In Module";
}

<div class="container mt-4">
    <h2>In Transaction Entry</h2>

    <form asp-action="Index" method="post" class="mt-3">
        <div class="mb-3">
            <label asp-for="ItemName" class="form-label"></label>
            <input asp-for="ItemName" class="form-control" required />
        </div>
        <div class="mb-3">
            <label asp-for="Quantity" class="form-label"></label>
            <input asp-for="Quantity" type="number" class="form-control" required />
        </div>
        <button type="submit" class="btn btn-primary">Save</button>
    </form>

    @if (ViewBag.Message != null)
    {
        <div class="alert alert-success mt-3">@ViewBag.Message</div>
    }
</div>


---

üöÄ STEP 10: Run the Project

In terminal or Visual Studio:

dotnet run

Then open:

https://localhost:xxxx/In

Enter an item and quantity ‚Üí click Save ‚Üí
‚úÖ The stored procedure will run through Entity Framework Core and insert data into tblInTransactions.


---

‚úÖ SUMMARY

Component	Purpose

tblInTransactions	Database table
sp_InsertInTransaction	SQL stored procedure
InTransaction.cs	EF Core model
ApplicationDbContext.cs	EF Core DB context
InController.cs	Controller to call SP
Index.cshtml	Simple input view



---

Would you like me to extend this example next to include:

üîç Viewing all saved transactions (list page), or

üì¶ Dropdown for selecting item from an ‚ÄúItems‚Äù table?

***



Absolutely üëç Let‚Äôs create a simple ‚ÄúIN Module‚Äù project using ASP.NET Core MVC + SQL Server Stored Procedure ‚Äî step by step.

We‚Äôll build a small Inventory ‚ÄúIN Transaction‚Äù where users can record items being received into the system.


---

üß© PROJECT OVERVIEW

Goal: Create a page where the user can input an item and quantity, then save to the database via a stored procedure.

Example Table:

tblInTransactions

Column Name	Data Type	Description

InID	INT (PK, IDENTITY)	Auto-generated primary key
ItemName	NVARCHAR(100)	Name of item
Quantity	INT	Quantity received
DateIn	DATETIME	Transaction date



---

üõ†Ô∏è STEP 1: Create SQL Table & Stored Procedure

In SQL Server, run this:

CREATE TABLE tblInTransactions (
    InID INT IDENTITY(1,1) PRIMARY KEY,
    ItemName NVARCHAR(100),
    Quantity INT,
    DateIn DATETIME DEFAULT GETDATE()
);
GO

CREATE PROCEDURE sp_InsertInTransaction
    @ItemName NVARCHAR(100),
    @Quantity INT
AS
BEGIN
    INSERT INTO tblInTransactions (ItemName, Quantity)
    VALUES (@ItemName, @Quantity);
END;
GO


---

üñ•Ô∏è STEP 2: Create ASP.NET Core MVC Project

In Visual Studio or CLI:

dotnet new mvc -n InventoryInModule
cd InventoryInModule


---

‚öôÔ∏è STEP 3: Add Connection String

In appsettings.json:

{
  "ConnectionStrings": {
    "DefaultConnection": "Server=YOUR_SERVER;Database=InventoryDB;Trusted_Connection=True;TrustServerCertificate=True;"
  }
}


---

üß± STEP 4: Create Model

File: Models/InTransaction.cs

namespace InventoryInModule.Models
{
    public class InTransaction
    {
        public int InID { get; set; }
        public string ItemName { get; set; }
        public int Quantity { get; set; }
        public DateTime DateIn { get; set; }
    }
}


---

üß© STEP 5: Create Controller

File: Controllers/InController.cs

using Microsoft.AspNetCore.Mvc;
using Microsoft.Data.SqlClient;
using Microsoft.Extensions.Configuration;
using InventoryInModule.Models;
using System.Data;

namespace InventoryInModule.Controllers
{
    public class InController : Controller
    {
        private readonly IConfiguration _configuration;

        public InController(IConfiguration configuration)
        {
            _configuration = configuration;
        }

        public IActionResult Index()
        {
            return View();
        }

        [HttpPost]
        public IActionResult Index(InTransaction model)
        {
            if (ModelState.IsValid)
            {
                string connStr = _configuration.GetConnectionString("DefaultConnection");

                using (SqlConnection conn = new SqlConnection(connStr))
                {
                    using (SqlCommand cmd = new SqlCommand("sp_InsertInTransaction", conn))
                    {
                        cmd.CommandType = CommandType.StoredProcedure;
                        cmd.Parameters.AddWithValue("@ItemName", model.ItemName);
                        cmd.Parameters.AddWithValue("@Quantity", model.Quantity);
                        conn.Open();
                        cmd.ExecuteNonQuery();
                    }
                }

                ViewBag.Message = "Item successfully added!";
                ModelState.Clear();
            }

            return View();
        }
    }
}


---

üé® STEP 6: Create View

File: Views/In/Index.cshtml

@model InventoryInModule.Models.InTransaction
@{
    ViewData["Title"] = "In Module";
}

<h2>In Transaction Entry</h2>

<form asp-action="Index" method="post">
    <div class="form-group">
        <label>Item Name</label>
        <input asp-for="ItemName" class="form-control" required />
    </div>
    <div class="form-group">
        <label>Quantity</label>
        <input asp-for="Quantity" type="number" class="form-control" required />
    </div>
    <button type="submit" class="btn btn-primary mt-3">Save</button>
</form>

@if (ViewBag.Message != null)
{
    <div class="alert alert-success mt-3">@ViewBag.Message</div>
}


---

üöÄ STEP 7: Run the Project

Press F5 or run:

dotnet run

Navigate to:

https://localhost:xxxx/In

Try adding an item and quantity.
The record will be inserted into tblInTransactions via the stored procedure.



---

‚úÖ Summary

You‚Äôve created:

‚úÖ SQL Table + Stored Procedure

‚úÖ Model (InTransaction)

‚úÖ Controller (InController)

‚úÖ View (Index.cshtml)

‚úÖ Connected everything using ADO.NET



---

Would you like me to extend this example to include:

üîç Viewing all ‚ÄúIN‚Äù transactions (list page)

‚úèÔ∏è Editing or deleting records

üì¶ Integration with an Items table (lookup dropdown)?
